
> **Обработки** — это объекты конфигурации, не имеющие возможности хранить данные в постоянной памяти. Обработка может содержать реквизиты и табличные части, которые будут существовать только во время выполнения программы.

Обработки бывают 2 типов:

- **Внутренние.** Входят в состав конфигурации
- **Внешние.** Независимые от конфигурации объекты, хранящиеся в файлах `.epf`

Структура обработки стандартная:

- Реквизиты
- Табличные части
- [[01 Формы 1С|Формы]]
- Макеты
- Команды

События модуля объекта:

1. **`ОбработкаПроверкиЗаполнения`**

Обработка больше всего, из всех объектов конфигурации, похожа на объектно-ориентированный класс в других языка программирования. Только, в отличие от классов, никакого наследования, инкапсуляции и полиморфизма не существует.

### Пример с формой стороннего объекта конфигурации

Допустим, была создана обработка **`Подсчет`**, у которой есть 3 числовых реквизита: Множитель1, Множитель2, Произведение.

Определим процедуру в модуле объекта обработки, которая вычисляет произведение двух множетелей:

```bsl
Процедура ВычислитьПроизведение()
    Произведение = Множитель1 * Множитель2;
КонецПроцедуры
```

Представим, что у нас есть справочник с двумя множителями, которые нужно перемножить, при этом калькулятора у нас нет и мозгов тоже, поэтому самим посчитать не получиться. Воспользуемся нашей обработкой.

```bsl
// Форма справочника "РезультатыСложныхРасчетов"

&НаКлиенте
Процедура СовершитьКолоссальныеВычисления(Команда)
    
    СовершитьКолоссальныеВычисленияНаСервере();
    
КонецПроцедуры

&НаСервере
Процедура СовершитьКолоссальныеВычисленияНаСервере()
    
    // Создание экземпляра обработки с незаполненными реквизитами
    вычислитель = Обработки.Подсчет.Создать();
    вычислитель.Множитель1 = 12;
    вычислитель.Множитель2 = 1048576.88;
    
    вычислитель.ВычислитьПроизведение();
    
    Объект.Результат = вычислитель.Произведение;
    
КонецПроцедуры
```

### Пример с формой самой обработки

Создадим основную форму для нашей обработки. По умолчанию в реквизитах формы будет реквизит **`Объект`**, который содержит копию текущего экземпляра обработки.

При необходимости, можно получить данные экземпляра [[Связь между клиентом и сервером|на сервере]]:

```bsl
&НаКлиенте
Процедура СовершитьКолоссальныеВычисления(Команда)
    
    СовершитьКолоссальныеВычисленияНаСервере();
    
КонецПроцедуры

&НаСервере
Процедура СовершитьКолоссальныеВычисленияНаСервере()
    
    // получение данных экземпляра обработки на сервере из реквизита "Объект"
    экземпляр = РеквизитФормыВЗначение("Объект");
    экземпляр.ВычислитьПроизведение();
    
    // обновляем реквизит "Объект" на форме
    ЗначениеВРеквизитФормы(экземпляр, "Объект");
    
КонецПроцедуры
```

## Внешние обработки

Внешние обработки независимы от конфигурации и хранятся в отдельном файле формата `.epf`. Средства конфигурации позволяют совершить объединение конфигурации с внешней обработкой.

> Внешнюю обработку можно сделать внутренней и наоборот

Преимуществом внешних обработок для программиста является то, что отпадает необходимость перезапускать приложение 1С, чтобы проверить работоспособность новой версии обработки. Достаточно просто сохранить изменения в файле внешней обработки (Ctrl + S) и обработку можно перезапустить в уже открытом приложении 1С

### Подключение внешних обработок на клиенте

Это действие доступно только в типовых конфигурациях.

- В подсистеме "Администрирование"

- В разделе "Печатные формы, отчеты и обработки"

- В открывшемся окне нужно установить галочку "Дополнительные отчеты и обработки", чтобы разрешить на уровне конфигурации использовать дополнительный внешний функционал

- Перейдем по гиперссылке "Дополнительные отчеты и обработки". Нам откроется список внешних отчетов и обработок, которые подключены на данный момент

- Чтобы подключить свою обработку, нужно нажать "Создать" и выбрать `.epf` файл. После этого 1 С обработка данных будет добавлена в конфигурацию, вам остаётся лишь осуществить настройку размещения (Выбрать тот раздел в программе, в котором будет размещена наша обработка).

- Находим элемент "`Размещение: <Не задано>`" и нажимаем на эту гиперссылку. Выбираем раздел

- Записываем изменения

**[Оптимизация разработки внешних обработок](https://infostart.ru/1c/articles/1987266/)**

#1С #1С/Конфигурация