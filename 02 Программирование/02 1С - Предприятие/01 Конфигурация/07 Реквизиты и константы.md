# Описать все типы реквизитов (общие не общие, константы и определяемые типы)

https://infostart.ru/1c/articles/1116103/

Реквизиты — это свойства объектов метаданных, имеющие примитивный тип. Для реквизитов можно задать различные параметры, такие, как формат отображения, длина, состав данных и т.д. Все эти данные не содержатся в самих переменных, они хранятся в метаданных. В 1С используются системные таблицы базы данных, которые хранят все метаданные.

## Типы реквизитов

**Строка:**

*1 символ занимает 2 байта*

* `Длина` — максимальная длина строки. Системой выделяется определенное количество байт для хранения строки. Максимальное значение длины = 1024
* `Допустимая длина` — "Переменная" или "Фиксированная". `Переменная` — длина строки динамическая, "Фиксированная" — длина строки всегда равна максимальной, недостающие символы дополняются пробелами
* `Неограниченная длина` — да/нет, определяет, устанавливается ли максимальная длина для строки. Значительно уменьшает производительность работы со строкой при установке неограниченной длины.

**Число:**

***8** байт, если длина `<=` 15 знаков, **16** байт, если `>` 15*

* `Длина` — максимальное количество цифр (дробная часть учитывается, то есть длина 5 у этих чисел: 99999, 999.99)
* `Точность` — количество знаков после запятой
* `Неотрицательное` — да/нет. При программном задании переменной отрицательного значения, при условии, что число Неотрицательное, отрицательное значение будет преобразовано в 0 и ошибки не возникнет. Данный параметр не влияет на способ хранения данных.

**Булево:**

*1 байт*: Да/Нет

**Дата**

Хранит дату и/или время. Фиксированно *7 байт*

* Состав даты — "Дата", "Время" или "Время и дата". Этот параметр не влияет на количество занимаемой памяти

**Ссылка:** ^eb082d
[[_Пустые значения (NULL, Неопределено)]]
Представляет собой уникальный идентификатор (GUID) объекта.

Ссылки подразделяются по уровню абстракции:

* ЛюбаяСсылка
* `<ТипОбъектаМетаданных>Ссылка`. Примеры: СправочникСсылка, ДокументСсылка, ПеречислениеСсылка
* `<ТипОбъектаМетаданных>Ссылка.<ОбъектМетаданных>`. Пример: СправочникСсылка.Контрагенты

Рекомендуется использовать максимально конкретный тип ссылки. Если использовать более общую ссылку (например, ЛюбуюСсылку), то помимо GUID, будет хранится доп. инфа о типе конкретного объекта, на который установлена ссылка.

#### Динамический список

### Вкладка Использование



### Вкладка Представление

Здесь определены свойства, которые влияют на то, как пользователь будет видеть и использовать данный реквизит.

Является общей для объектов конфигурации: Справочник, Документ, Регистр, но различается в зависимости от типа самого реквизита.

| Свойство                                   | Описание                                                                                                                                                                                                                              |
| ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| *Формат (Не для строк)*                    | Определяет, в каком формате будет отображаться реквизит                                                                                                                                                                               |
| *Формат редактирования (Не для строк)*     |                                                                                                                                                                                                                                       |
| Режим пароля (булево)                      |                                                                                                                                                                                                                                       |
| Подсказка                                  | Поясняющий текст по умолчанию, определенный на уровне реквизита. Подсказка может быть определена для полей формы и для других более узких типов, использующих этот реквизит, тогда подсказка на уровне реквизита не будет учитываться |
| Маска                                      |                                                                                                                                                                                                                                       |
| Многострочный режим                        |                                                                                                                                                                                                                                       |
| Расширенное редактирование (булево)        |                                                                                                                                                                                                                                       |
| Заполнять из данных заполнения (булево)    |                                                                                                                                                                                                                                       |
| Значение заполнения                        |                                                                                                                                                                                                                                       |
| Проверка заполнения                        | Срабатывает при проведении. Если реквизит не заполнент, то возникнет ошибка и документ не будет проведен (что со справочником?, регистром?)                                                                                           |
| Быстрый выбор                              |                                                                                                                                                                                                                                       |
| Создание при вводе                         |                                                                                                                                                                                                                                       |
| История выбора при вводе                   |                                                                                                                                                                                                                                       |
| Связать по типу                            |                                                                                                                                                                                                                                       |
| Связи параметров выбора (для перечислений) |                                                                                                                                                                                                                                       |
| Параметры выбора (для перечислений)        |                                                                                                                                                                                                                                       |
| Форма выбора (для перечислений)            |                                                                                                                                                                                                                                       |

#### Таблица значений


#### Дерево значений

%%Оставить главное, остальное вынести в отдельную заметку%%

Это `ТаблицаЗначений`, где каждая строка является таблицей значений. То есть, Дерево значений представляет классическую структуру **дерева**.

>Дерево значений доступно только `&НаСервере` или в качестве реквизита формы (не объекта).

Данный код приведет к ошибке на этапе интерпретации:

```bsl
&НаКлиенте
Процедура СоздатьДерево(Команда)
   ДеревоРегионов = Новый ДеревоЗначений;
КонецПроцедуры
```

А такой код не вызовет ошибки:

```bsl
&НаСервере
Процедура СоздатьДеревоНаСервере()
	ДеревоРегионов = Новый ДеревоЗначений;
КонецПроцедуры

&НаКлиенте
Процедура СоздатьДерево(Команда)
	СоздатьДеревоНаСервере();
КонецПроцедуры
```

Каждый узел дерева может иметь коллекцию колонок, которые можно добавлять. То есть, по сути, каждый узел — это словарь со ссылкой на родителя. Чтобы использовать этот словарь, нужно обращаться к свойству `Колонки` типа `КоллекцияКолонокДереваЗначений`

>**Существуют ли в узлах ссылки на потомков(двусвязное или односвязное дерево?)**

Методы ``


| Метод                                               | Описание                                                                                                                      |
| --------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `Добавить(<Имя>, <Тип>, [<Заголовок>], [<Ширина>])` | Добавляет новую колонку с одним типом, именем, заголовком и шириной (макс. кол-во символов). Имя — ID колонки в рамках дерева |

Пример

```bsl
ТипСтрока = Новый ОписаниеТипов("Строка");
ТипЧисло  = Новый ОписаниеТипов("Число");

ДеревоРегионов.Колонки.Добавить("Регион",ТипСтрока);
ДеревоРегионов.Колонки.Добавить("РуководительРегиона",ТипСтрока,"Руководитель региона");
ДеревоРегионов.Колонки.Добавить("Бюджет",ТипЧисло);
```

# Константы

Константа — это глобальное значение, ссылающееся на объект метаданных. Например можно задать константу Директор, которая будет ссылаться на определенного сотрудника.

> Подразумевается, что константы не меняются или меняются редко

#1С #1С/Конфигурация