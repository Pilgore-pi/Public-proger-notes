# string.Format

```csharp
string name = "Tom";
int age = 23;
// Форматированный вывод в консоль
Console.WriteLine("Имя: {0}  Возраст: {1}", name, age);

// Аналогично
string output = string.Format("Имя: {0}  Возраст: {1}", name, age);
Console.WriteLine(output);
```

Спецификаторы форматирования (регистр не важен)

C | денежный формат, число указывает на количество знаков после запятой
-|-
D | целое число, указывает минимальное количество цифр
E | экспоненциальное представление, указывает на количество знаков после запятой
F | дробные числа с фиксированной точкой
G | задает более короткий из 2 вариантов: F или E
N | дробное с фиксированной точкой
P | знак `%` после числа
X | шестнадцатеричный формат числа

Число после спецификатора не является обязательным, оно определяется автоматически, если его не указать.

Использование спецификатора в форматировании:
```csharp
WriteLine( string.Format("{0:C0}", 23.7) ); // 24 р.
WriteLine( string.Format("{0:C}", 23.7) ); // 23.70 р.
WriteLine( string.Format("{0:C2}", 23.7) ); // 24.70 р.
```

Денежные единицы зависят от текущей культуры.

## Настраиваемые форматы

Символ `'#'` -- является ячейкой для заполнения данными, остальные символы просто пишутся без изменений.
```csharp
// +1 (987) 654-32-10
WriteLine( string.Format("{0:+# (###) ###-##-##}", 19876543210) );
```
В данном примере, если цифр для заполнения шаблона не хватает, то заполняются сначала последние ячейки, а там где не хватило цифр остается пустота.

# ToString()

Может выполнять функцию string.Format.
```csharp
24.8.ToString("C2"); // 24.80 р.
19876543210.ToString("+# (###) ###-##-##"); // +1 (987) 654-32-10
```

# Интерполяция

В фигурных скобках ожидается выражение
```csharp
//Простая интерполяция
int x = 8;
int y = 7;
string result = $"{x} * {y} = {Multiply(x, y)}";

// С настраиваемым форматом (:)
int number = 19876543210;
string result = $"{number:+# ### ### ## ##}";

// С настраиваемой шириной
// число 8 шириной 2 символа
string result = $"{4 + 4, 2}"; // пробелы добавляются слева
string result = $"{4 + 4, -2}"; // пробелы добавляются справа
```

#C-Sharp #Char_types