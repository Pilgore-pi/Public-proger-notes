Обобщение — это способ описать множество однотипных сущностей, у которых отличаются определенные параметры, но при этом эти параметры должны обрабатываться одинаково. То есть может существовать абстрактный параметр типа `T`, который требует унифицированной обработки, которая учитывает все возможные состояния этого параметра.

Обобщенными в .Net могут быть:
* Классы
* Структуры
* Поля
* Методы
* Интерфейсы
* Делегаты
## Ограничения обобщений

Синтаксис:
```csharp
class MyGeneric<T> where T: <restriction>, <restriction>, ...
```

Виды ограничений:
1) `class` – ссылочный тип (не Nullable), в том числе и делегат
2) `class?` – ссылочный Nullable тип
3) `struct` – должен быть значимым типом данных
4) `notnull` – non-nullable
5) `new()` – требование, чтобы у типа T должен быть публичный конструктор без параметров
6) `<ClassName>` – тип T должен быть совместим с указанным классом
7) `<ClassName>?` – nullable тип из семейства
8) `<InterfaceName>` – должен быть совместим с указанным интерфейсом
9) `<InterfaceName>?`
10) `default` \*
11) `unmanaged` – non-nullable неуправляемый тип. Подразумевается ограничение `struct`
12) `where T : V` – T должен быть из семейства V.

* Ограничение `notnull` имеет смысл только при включенном контексте `null`. При нарушении этого ограничения ошибки не возникает, возникает предупреждение.

```csharp
class Жырнич<T> where T : IEnumerable<int>, new() {}
```

```csharp
class Жырнич<T, B> where T : new() where B : class {}
```

```csharp
class GenericMethod<T>(T a, T b) where T : struct {}
```

////////////////////////////////////
```csharp
class RefStructGeneric<T, S>
    where T : allows ref struct
    where S : T
{
    // etc
}
```

[[02 Совместимость обобщений|Далее: Совместимость обобщений]]

#C-Sharp #OOP #OOP/Generics #C-Sharp/Generics