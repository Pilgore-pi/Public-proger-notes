
Статический класс идеологически — это сущность, которая существует в единственном роде, у которой не может быть потомства. Это сущность существует априори и всегда. Фактически это набор полей, свойств и методов, которые объединены одним названием. На самом деле никакого класса нет (ПРОВЕРИТЬ).

В C# статические классы не могут иметь экземпляры, поэтому у них нет обычных конструкторов. Однако у них есть статический конструктор, который вызывается автоматически. Статический конструктор вызывается в следующих случаях:

1. **При первом доступе к любому члену статического класса**: Это может быть доступ к статическому методу, статическому свойству или статическому полю.
2. **При создании экземпляра любого типа, который содержит статический член**: Если статический класс содержит статический член, который используется в другом классе, статический конструктор будет вызван при создании экземпляра этого другого класса.

Статический конструктор вызывается только один раз за время существования приложения и гарантированно вызывается перед любым доступом к статическим членам класса.

- Все поля, методы, свойства и события в статическом классе должны быть статическими.
- Статические члены могут быть определены в любом классе. Они принадлежат самому классу, а не его экземплярам.
- Статические классы не могут учавствовать в наследовании.

### Назначение

1. Использование в качестве набора инструментов, то есть как утилитарный класс:

```csharp
public static class MathUtilities
{
    public static int Add(int a, int b)
    {
        return a + b;
    }
    public static Subtract(int a, int b)...
}
```

2. Использование для определения методов расширения

**Метод расширения** — это логическая пристройка метода к любой сущности. Можно создать метод, который как-бы будет вызываться целевым объектом, но на самом деле это синтаксический сахар. В действительности компилятор подменяет вызовы расширяющих методов вызовами этих методов из статического класса:

```csharp
public static class StringExtensions
{
    // Используется специальный модификатор this
    public static bool IsNullOrEmpty(this string str)
    {
        return string.IsNullOrEmpty(str);
    }
}

string variable = null;
if (variable.IsNullOrEmpty())
    throw new NullPointerException();

// На самом деле:
if (StringExtentions.IsNullOrEmpty(variable))
    throw new NullPointerException();
```

#C-Sharp #OOP

# ИЗ ЛЕКЦИЙ

Методы расширения – это статические методы, позволяющие "добавить" методы в существующие типы. Добавление не настоящее – это синтаксический сахар. Методы расширений используются также как и собственные методы класса.

Классический подход:
```cs
public static class StringHelper
{
	public static string Repeat(string s, int n) {...}
}
...
var s = “123”;
var s2 = StringHelper.Repeat(s, 2);
```
использование расширения:
```cs
public static class StringHelper
{
	public static string Repeat(this string s, int n) {...}
}
...
s.Repeat(2);
```
Язык IL переводит код в вызов статического метода StringHelper.Repeat(s, 2);

>Первый параметр определяет, с каким типом оперирует метод расширения. Возвращаемое значение может быть любым.

Обычно в названиях классов для расширений применяются суффиксы: Helper, Extention.

>Методы расширения могут быть определены для любых типов: классов, структур, делегатов, интерфейсов, обобщений.

Метод расширения, имеющий те же имя и сигнатуру, что и интерфейс или метод класса, никогда не вызывается. Во время компиляции методы расширения всегда имеют более низкий приоритет, чем методы экземпляра, определенные в самом типе.

Самые распространенные методы расширения – стандартные операторы запросов LINQ, которые добавляют функции запросов в существующие типы IEnumerable & IEnumerable\<T\>.

#C-Sharp #C-Sharp/OOP/Static #OOP